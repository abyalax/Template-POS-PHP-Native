function g(a){const s=a.items;let e=0,r=0,_=0,p=0,u=0,l=0;const d=[];for(const t of s){const o=t.price*t.quantity,n=t.price*t.discount*t.quantity,c=o-n,y=t.price-t.cost_price-n/t.quantity,m=y*t.quantity,i=t.price*t.tax_rate*t.quantity,f=c+i;e+=o,r+=n,_+=c,p+=m,u+=i,l+=f;const q={name:t.name,sub_total:o,total_discount:n,total_price:c,unit_profit:y,total_profit:m,total_tax:i,last_price:f};d.push(q)}return{status:"pending",item:s.map((t,o)=>({name:t.name,category:t.category,product_id:t.id,barcode:t.barcode,qty:t.quantity,price:t.price,cost_price:t.cost_price,discount:t.discount,tax_rate:t.tax_rate,summary:d[o]})),subtotal:e,total_discount:r,total_price:_,total_profit:p,total_tax:u,pay_return:a.pay_return,pay_received:a.pay_received,payment_method:a.payment_method,last_price:l,notes:a.notes}}export{g as calculateTransaction};
